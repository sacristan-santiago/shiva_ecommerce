{"version":3,"sources":["components/CartContext.js","components/CartWidjet.js","components/NavBar.js","components/Product.js","components/ProductsList.js","firebase.js","components/ProductListContainer.js","components/ItemCount.js","components/ItemDetail.js","components/ItemDetailContainer.js","components/Category.js","components/CategoriesList.js","components/CategoriesListContainer.js","components/CartConfirmation.js","components/Cart.js","App.js","reportWebVitals.js","index.js"],"names":["CartContext","createContext","CartProvider","defaultValue","children","useState","cart","setCart","isInCart","ItemId","some","x","id","Provider","value","removeItem","newCart","filter","clearCart","addItem","item","quantity","find","console","log","newCartItem","CartWidget","cartCounter","useContext","length","className","to","Nav","activeclassname","Producto","props","producto","title","description","image","route","style","width","backgroundColor","src","alt","height","overflow","type","ProductosList","productos","map","Product","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ProductosListContainer","setProductos","categoryId","useParams","useEffect","a","db","getFirestore","q","query","collection","where","getDocs","querySnapshot","categoryList","forEach","doc","data","push","size","fetchData","ItemCount","initial","contador","setContador","onClick","stock","onAdd","ItemDetail","price","ItemDetailCointainer","setItem","docRef","getDoc","docSnap","exists","renderItem","Category","category","toUpperCase","CategoriesList","categories","i","CategoriesListContainer","itemsCollection","itemsSnapshot","itemsList","docs","CartConfirmation","orderId","Cart","name","setName","surename","setSurename","email","setEmail","phone","setPhone","setOrderId","precioTotal","handleChange","e","target","handleSubmit","preventDefault","addDoc","buyer","items","date","Timestamp","now","total","scope","onSubmit","onChange","required","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kPAEaA,EAAcC,0BAGZ,SAASC,EAAT,GAAuD,IAAD,IAA9BC,oBAA8B,MAAf,GAAe,EAAXC,EAAW,EAAXA,SACtD,EAAwBC,mBAASF,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KAUMC,EAAW,SAACC,GACd,OAAOH,EAAKI,MAAK,SAAAC,GAAC,OAAEA,EAAEC,KAAOH,MAmBjC,OAAO,cAACT,EAAYa,SAAb,CAAsBC,MAAO,CAACR,OAAMS,WA5BxB,SAACN,GAChB,IAAMO,EAAUV,EAAKW,QAAO,SAAAN,GAAC,OAAEA,EAAEC,IAAMH,KAEvCF,EAAQS,IAyB2CE,UAtBrC,kBAAMX,EAAQ,KAsBkCC,WAAUW,QAhB5D,SAACC,EAAMC,GACnB,GAAIb,EAASY,EAAKR,IACdN,EAAKgB,MAAK,SAAAX,GAAC,OAAEA,EAAEC,KAAOQ,EAAKR,MAAIS,UAAYA,EAE3Cd,EAAQD,GACRiB,QAAQC,IAAR,4CAAiDJ,EAAKR,KACtDW,QAAQC,IAAI,kBAAmBlB,OAC5B,CACH,IAAMmB,EAAcL,EACpBA,EAAKC,SAAWA,EAChBd,EAAQ,GAAD,mBAAKD,GAAL,CAAWmB,KAClBF,QAAQC,IAAI,sCACZD,QAAQC,IAAI,kBAAmBlB,MAIhC,SACFF,ICjCT,IAaesB,EAbI,WACf,IACMC,EADSC,qBAAW5B,GAAnBM,KACkBuB,OAEzB,OAAmB,GAAfF,EAEI,eAAC,IAAD,CAASG,UAAU,yBAAyBC,GAAG,QAA/C,UAAuD,+BAAOJ,IAAmB,sBAAMG,UAAU,+BAAhB,8BAG9E,8BCEAE,EAZH,WACR,OACI,sBAAKF,UAAU,aAAf,UACI,6BAAI,cAAC,IAAD,CAASA,UAAU,WAAWC,GAAG,IAAjC,qBACJ,6BACI,6BAAI,cAAC,IAAD,CAASE,gBAAgB,kBAAkBH,UAAU,WAAWC,GAAG,sBAAnE,0BAER,cAAC,EAAD,Q,uBCSGG,EAjBE,SAACC,GACd,MAA0CA,EAAMC,SAAxCC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,YAAaC,EAA5B,EAA4BA,MAAO3B,EAAnC,EAAmCA,GAC7B4B,EAAK,gBAAY5B,GAEvB,OACA,sBAAKkB,UAAU,OAAOW,MAAO,CAACC,MAAO,MAAOC,gBAAiB,QAA7D,UACI,qBAAKC,IAAG,uFAAkFL,GAAST,UAAU,eAAee,IAAI,QAChI,sBAAKf,UAAU,YAAf,UACI,oBAAIA,UAAU,aAAd,SAA4BO,IAC5B,mBAAGI,MAAO,CAACK,OAAQ,OAAQC,SAAU,UAAYjB,UAAU,YAA3D,SAAwEQ,OAE5E,cAAC,IAAD,CAASR,UAAU,WAAWC,GAAIS,EAAlC,SAAyC,wBAAQQ,KAAK,SAASlB,UAAU,eAAhC,2BCClCmB,EAZO,SAACd,GACnB,IAAMe,EAAYf,EAAMe,UAExB,OACI,mCACKA,EAAUC,KAAI,SAAAxC,GACX,OAAO,cAACyC,EAAD,CAAwBhB,SAAUzB,GAAnBA,EAAE0B,a,QCD3BgB,EAAMC,YAAc,CAC7BC,OAAQ,0CACRC,WAAY,8BACZC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,gBACnBC,MAAO,+C,QCuCIC,EA9CgB,WAC3B,MAAkCxD,mBAAU,IAA5C,mBAAO6C,EAAP,KAAkBY,EAAlB,KACOC,EAAcC,cAAdD,WA+BP,OA7BAE,qBAAU,WAAK,4CACX,kCAAAC,EAAA,sEAEcC,EAAKC,YAAaf,GAClBgB,EAAIC,YAAMC,YAAWJ,EAAI,SAAUK,YAAM,WAAY,KAAMT,IAHzE,SAIoCU,YAAQJ,GAJ5C,UAIcK,EAJd,OAMcC,EAAe,GACrBD,EAAcE,SAAQ,SAAAC,GACd,IAAMzD,EAAOyD,EAAIC,OACjB1D,EAAKR,GAAKiE,EAAIjE,GACd+D,EAAaI,KAAK3D,MAGD,KAApBmD,IAAWS,KAbxB,wBAcYzD,QAAQC,IAAI,6BAdxB,2BAkBQD,QAAQC,IAAI,oBACZsC,EAAaa,GAnBrB,kDAsBQpD,QAAQC,IAAI,uBAAZ,MAtBR,2DADW,uBAAC,WAAD,wBA0BXyD,KACD,IAEC/B,EAAUrB,QAAQ,EAEd,mDAIA,qBAAKC,UAAU,2BAAf,SACI,cAAC,EAAD,CAAeoB,UAAWA,OC7B3BgC,EAfG,SAAC/C,GACf,MAAgC9B,mBAAS8B,EAAMgD,SAA/C,mBAAOC,EAAP,KAAiBC,EAAjB,KAEA,OACI,gCACI,sBAAKvD,UAAU,aAAf,UACI,wBAAQA,UAAU,eAAewD,QAAS,WAASF,EAAS,GAAIC,EAAYD,EAAW,IAAvF,iBACA,4CAAeA,EAAf,OACA,wBAAQtD,UAAU,eAAewD,QAAS,WAASF,EAASjD,EAAMoD,OAAQF,EAAYD,EAAW,IAAjG,oBAEJ,wBAAQtD,UAAU,eAAewD,QAAS,WAASF,GAAUjD,EAAMoD,OAAQpD,EAAMqD,MAAMJ,IAAvF,sCCkBGK,EAxBI,SAACtD,GAChB,MAAkDA,EAAMf,KAAjDiB,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAaC,EAA3B,EAA2BA,MAAOmD,EAAlC,EAAkCA,MAAOH,EAAzC,EAAyCA,MAElCpE,EAAWS,qBAAW5B,GAAtBmB,QAMP,OACI,sBAAKW,UAAU,OAAOW,MAAO,CAACC,MAAO,MAAOC,gBAAiB,QAA7D,UACI,qBAAKC,IAAG,uFAAkFL,GAAST,UAAU,eAAee,IAAI,QAChI,sBAAKf,UAAU,YAAf,UACI,oBAAIA,UAAU,aAAd,SAA4BO,IAC5B,mBAAGI,MAAO,CAACK,OAAQ,OAAQC,SAAU,UAAYjB,UAAU,YAA3D,SAAwEQ,IACxE,oBAAGR,UAAU,YAAb,sBAAmC4D,EAAnC,aACA,cAAC,EAAD,CAAWH,MAAOA,EAAOJ,QAAU,EAAGK,MAXpC,SAACnE,GACXF,EAAQgB,EAAMf,KAAMC,SAYhB,wBAAQS,UAAU,eAAlB,SAAiC,cAAC,IAAD,CAASA,UAAU,yBAAyBC,GAAG,IAA/C,0B,QCyB9B4D,EA1Cc,WACzB,MAAwBtF,mBAAU,IAAlC,mBAAOe,EAAP,KAAawE,EAAb,KACOhF,EAAMoD,cAANpD,GA2BP,OA1BAW,QAAQC,IAAIZ,GAEZqD,qBAAU,WAAM,4CACZ,kCAAAC,EAAA,sEAEcC,EAAKC,YAAaf,GAClBwC,EAAShB,YAAIV,EAAI,QAASvD,GAHxC,SAI8BkF,YAAOD,GAJrC,QAIcE,EAJd,QAMqBC,UAGTzE,QAAQC,IAAI,qBACNyE,EAAaF,EAAQjB,QAChBlE,GAAKmF,EAAQnF,GACxBgF,EAAQK,GACR1E,QAAQC,IAAIJ,IANZG,QAAQC,IAAI,6BAPxB,gDAgBQD,QAAQC,IAAI,uBAAZ,MAhBR,0DADY,uBAAC,WAAD,wBAoBZyD,KAED,IAEE7D,EAAKR,GAMF,qBAAKkB,UAAU,gBAAf,SACI,cAAC,EAAD,CAAYV,KAAMA,MALtB,oDCpBG8E,EAhBE,SAAC/D,GACd,MAAuCA,EAAMgE,SAAzB5D,GAApB,EAAOD,YAAP,EAAoBC,OAAO4D,EAA3B,EAA2BA,SACrB3D,EAAK,qBAAiB2D,GAE5B,OACA,sBAAoBrE,UAAU,OAAOW,MAAO,CAACC,MAAO,MAAOC,gBAAiB,QAA5E,UACI,qBAAKC,IAAG,uFAAkFL,GAAST,UAAU,eAAee,IAAI,QAChI,qBAAKf,UAAU,YAAf,SACI,oBAAIA,UAAU,aAAd,SAA4BqE,EAASC,kBAGzC,cAAC,IAAD,CAAStE,UAAU,WAAWC,GAAIS,EAAlC,SAAyC,wBAAQQ,KAAK,SAASlB,UAAU,eAAhC,+BANnCqE,ICaCE,EAlBQ,SAAClE,GAGpB,IAFA,IAAMe,EAAYf,EAAMe,UAClBoD,EAAa,GAFW,WAGrBC,GACAD,EAAW5F,MAAK,SAAAC,GAAC,OAAGA,EAAEwF,UAAYjD,EAAUqD,GAAGJ,aAChDG,EAAWvB,KAAK7B,EAAUqD,KAFzBA,EAAE,EAAGA,EAAErD,EAAUrB,OAAQ0E,IAAM,EAA/BA,GAMT,OACI,mCACKD,EAAWnD,KAAI,SAAAxC,GACZ,OAAO,cAAC,EAAD,CAA2BwF,SAAUxF,GAAtBA,EAAEwF,gBC6BzBK,EAtCiB,WAC5B,MAAkCnG,mBAAU,IAA5C,mBAAO6C,EAAP,KAAkBY,EAAlB,KAwBA,OAtBAG,qBAAU,WAAI,4CACV,kCAAAC,EAAA,sEAEcC,EAAKC,YAAaf,GAClBoD,EAAkBlC,YAAWJ,EAAI,SAH/C,SAIoCM,YAAQgC,GAJ5C,UAIcC,EAJd,OAKcC,EAAYD,EAAcE,KAAKzD,KAAI,SAAA0B,GAAG,OAAIA,EAAIC,UAE3B,KAApBP,IAAWS,KAPxB,wBAQYzD,QAAQC,IAAI,6BARxB,2BAWQD,QAAQC,IAAI,oBACZsC,EAAa6C,GAZrB,kDAeQpF,QAAQC,IAAI,uBAAZ,MAfR,2DADU,uBAAC,WAAD,wBAmBVyD,KACD,IAEC/B,EAAUrB,QAAQ,EAEd,mDAIA,qBAAKC,UAAU,2BAAf,SACI,cAAC,EAAD,CAAgBoB,UAAWA,OC3B5B2D,EAVU,SAAC1E,GAEtB,OACA,8BACI,kFAAqDA,EAAM2E,cCwHpDC,EApHF,WACT,MAA2BnF,qBAAW5B,GAA/BM,EAAP,EAAOA,KAAMS,EAAb,EAAaA,WACb,EAAwBV,mBAAU,IAAlC,mBAAO2G,EAAP,KAAaC,EAAb,KACA,EAAgC5G,mBAAU,IAA1C,mBAAO6G,EAAP,KAAiBC,EAAjB,KACA,EAA0B9G,mBAAU,IAApC,mBAAO+G,EAAP,KAAcC,EAAd,KACA,EAA0BhH,mBAAU,GAApC,mBAAOiH,EAAP,KAAcC,EAAd,KACA,EAA8BlH,mBAAS,MAAvC,mBAAOyG,EAAP,KAAgBU,EAAhB,KAEIC,EAAc,EAClBnH,EAAKsE,SAAQ,SAAAxD,GACPqG,GAAerG,EAAKsE,MAAMtE,EAAKC,YAGrC,IAAMqG,EAAe,SAACC,GAGlB,OAFaA,EAAEC,OAAOZ,MAGlB,IAAK,OACDC,EAAQU,EAAEC,OAAO9G,OACjB,MACJ,IAAK,WACDqG,EAAYQ,EAAEC,OAAO9G,OACrB,MACJ,IAAK,QACDuG,EAASM,EAAEC,OAAO9G,OAClB,MACJ,IAAK,QACDyG,EAASI,EAAEC,OAAO9G,OAClB,MACJ,QACIS,QAAQC,IAAI,oBAIlBqG,EAAY,uCAAG,WAAOF,GAAP,iBAAAzD,EAAA,6DACjByD,EAAEG,iBADe,SAGP3D,EAAKC,YAAaf,GAHX,SAIQ0E,YAAOxD,YAAWJ,EAAI,UAAW,CAClD6D,MAAO,CACHhB,KAAMA,EACNE,SAAUA,EACVI,MAAOA,EACPF,MAAOA,GAEXa,MAAO3H,EACP4H,KAAMC,IAAUC,MAChBC,MAAOZ,IAbE,OAIP5B,EAJO,OAebtE,QAAQC,IAAI,6BAA8BqE,EAAOjF,IACjD4G,EAAW3B,EAAOjF,IAhBL,kDAmBbW,QAAQC,IAAI,uBAAZ,MAnBa,0DAAH,sDAwBlB,OACI,sBAAKM,UAAU,YAAf,UACI,gCACI,yCACkB,IAAhBxB,EAAKuB,OACP,qCACI,+DACA,cAAC,IAAD,CAASC,UAAU,WAAWC,GAAG,IAAjC,SAAqC,wBAAQiB,KAAK,SAASlB,UAAU,eAAhC,gCAEnCxB,EAAK6C,KAAI,SAAA/B,GACH,OACA,8BACA,wBAAOU,UAAU,+BAAjB,UACA,gCACI,+BACA,oBAAIwG,MAAM,MAAV,sBACA,oBAAIA,MAAM,MAAV,yBACA,oBAAIA,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,yBAGJ,gCACI,+BACA,6BAAKlH,EAAKiB,QACV,6BAAKjB,EAAKkB,cACV,6BAAKlB,EAAKC,WACV,6BAAKD,EAAKsE,QACV,6BAAI,wBAAQJ,QAAS,WAAKvE,EAAWK,EAAKR,KAAtC,SAA4C,sBAAMkB,UAAU,iBAAhB,qCAOhE,gDAAmB2F,QAGvB,sBAAK3F,UAAU,UAAf,UACI,yCACA,uFACA,uBAAMA,UAAU,YAAYyG,SAAUV,EAAtC,UACI,uBAAOb,KAAK,OAAZ,qBACA,uBAAOhE,KAAK,OAAOgE,KAAK,OAAOpG,GAAG,OAAO4H,SAAUd,EAAce,UAAQ,IACzE,uBAAOzB,KAAK,WAAZ,uBACA,uBAAOhE,KAAK,OAAOgE,KAAK,WAAWpG,GAAG,WAAW4H,SAAUd,EAAce,UAAQ,IACjF,uBAAOzB,KAAK,QAAZ,oBACA,uBAAOhE,KAAK,QAAQgE,KAAK,QAAQpG,GAAG,QAAQ4H,SAAUd,EAAce,UAAQ,IAC5E,uBAAOzB,KAAK,QAAZ,0BACA,uBAAOhE,KAAK,SAASgE,KAAK,QAAQpG,GAAG,QAAQ4H,SAAUd,EAAee,UAAQ,IAC9E,uBAAOzF,KAAK,SAASlB,UAAU,eAAehB,MAAM,uBAEtDgG,EAAW,cAAC,EAAD,CAAkBA,QAASA,IAAa,UC/EtD4B,MA9Bf,WACE,OACE,cAACxI,EAAD,UACA,cAAC,IAAD,UACE,sBAAK4B,UAAU,MAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6G,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,yBAAZ,SACE,cAAC,EAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAAC,EAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,QAAZ,SACE,cAAC,EAAD,iBCjBGC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.446a36ee.chunk.js","sourcesContent":["import { createContext, useState } from \"react\";\r\n\r\nexport const CartContext = createContext()\r\n\r\n\r\nexport default function CartProvider ({defaultValue = [], children}) {\r\n    const [cart, setCart] = useState(defaultValue);\r\n\r\n    const removeItem = (ItemId) => {\r\n        const newCart = cart.filter(x=>x.id != ItemId)\r\n        \r\n        setCart(newCart);\r\n    }\r\n\r\n    const clearCart = () => setCart([]);\r\n\r\n    const isInCart = (ItemId) => {\r\n        return cart.some(x=>x.id === ItemId);\r\n    }\r\n\r\n    const addItem = (item, quantity) => {\r\n        if (isInCart(item.id)) {\r\n            cart.find(x=>x.id === item.id).quantity += quantity\r\n            //La linea anterior efectivamente modifica cart, pero se llama setCart por prolijidad\r\n            setCart(cart)\r\n            console.log(`se modifico la cantidad del item: ${item.id}`)\r\n            console.log(\"nuevo carrito: \", cart)\r\n        } else {\r\n            const newCartItem = item;\r\n            item.quantity = quantity;\r\n            setCart([...cart, newCartItem]);\r\n            console.log(\"se actualizo el estado del carrito\")\r\n            console.log(\"nuevo carrito: \", cart)\r\n        }\r\n    }\r\n\r\n    return <CartContext.Provider value={{cart, removeItem, clearCart, isInCart, addItem}}>\r\n        {children}\r\n    </CartContext.Provider>\r\n}","import { NavLink } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport { CartContext } from './CartContext';\r\n\r\nconst CartWidget = () => {\r\n    const {cart} = useContext(CartContext)\r\n    const cartCounter = cart.length;\r\n\r\n    if (cartCounter != 0 ) {\r\n        return (\r\n            <NavLink className=\"nav-link shopping-cart\" to=\"/cart\"><span>{cartCounter}</span><span className=\"material-icons shopping-cart\">shopping_cart</span></NavLink>   \r\n        )\r\n    } else {\r\n        return <></>\r\n    }\r\n}\r\n\r\nexport default CartWidget;","import CartWidget from './CartWidjet';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className=\"header_nav\">\r\n            <h1><NavLink className=\"nav-link\" to=\"/\">SH/VA</NavLink></h1>\r\n            <ul>\r\n                <li><NavLink activeclassname=\"currentCategory\" className=\"nav-link\" to=\"/categoria/crackers\">Crackers</NavLink></li>\r\n            </ul>\r\n            <CartWidget />\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav;","import { NavLink } from \"react-router-dom\";\r\n\r\nconst Producto = (props) => {\r\n    const { title, description, image, id } = props.producto\r\n    const route = `/item/${id}`\r\n\r\n    return (\r\n    <div className=\"card\" style={{width: \"20%\", backgroundColor: \"gray\"}}>\r\n        <img src={`https://raw.githubusercontent.com/sacristan-santiago/shiva_ecommerce/gh-pages${image}`} className=\"card-img-top\" alt=\"...\"/>\r\n        <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{title}</h5>\r\n            <p style={{height: \"15vh\", overflow: \"hidden\" }} className=\"card-text\">{description}</p>\r\n        </div>\r\n        <NavLink className=\"nav-link\" to={route}><button type=\"button\" className=\"btn btn-dark\">Comprar</button></NavLink>\r\n        \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Producto;","import Producto from \"./Product\"\r\n\r\nconst ProductosList = (props) => {\r\n    const productos = props.productos\r\n    \r\n    return (\r\n        <>\r\n            {productos.map(x => {\r\n                return <Producto key={x.title} producto={x}/>\r\n            })}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductosList;","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from 'firebase/app';\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nexport const app = initializeApp({\r\n    apiKey: \"AIzaSyCsqDOpjZQ9IIEvJGfBYGRTwjwnNHm7hzI\",\r\n    authDomain: \"shiva-53202.firebaseapp.com\",\r\n    projectId: \"shiva-53202\",\r\n    storageBucket: \"shiva-53202.appspot.com\",\r\n    messagingSenderId: \"1021999300277\",\r\n    appId: \"1:1021999300277:web:1d03b30e5d2e63840888fc\"\r\n  });\r\n\r\n","import ProductosList from './ProductsList';\r\nimport { app } from '../firebase';\r\nimport { getDocs, collection, getFirestore, where, query} from 'firebase/firestore';\r\nimport { useParams } from 'react-router';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst ProductosListContainer = () => {\r\n    const [productos, setProductos] = useState ([])\r\n    const {categoryId} = useParams();\r\n\r\n    useEffect(()=> {\r\n        async function fetchData () {\r\n            try {\r\n                const db = getFirestore(app);\r\n                const q = query(collection(db, \"items\"), where(\"category\", \"==\", categoryId));\r\n                const querySnapshot = await getDocs(q);\r\n                \r\n                const categoryList = []\r\n                querySnapshot.forEach(doc =>{\r\n                        const item = doc.data();\r\n                        item.id = doc.id;\r\n                        categoryList.push(item)\r\n                });\r\n        \r\n                if (!collection.size === 0) {\r\n                    console.log(\"Collection does not exist\");\r\n                    return;\r\n                }\r\n\r\n                console.log(\"Collection found\");\r\n                setProductos(categoryList)\r\n                \r\n            } catch (err) {\r\n                console.log(\"Error serching items\", err)\r\n            }\r\n        }\r\n        fetchData();\r\n    }, [])\r\n\r\n    if (productos.length<=0) {\r\n        return (\r\n            <>Cargando...</>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"Productos-list container\">\r\n                <ProductosList productos={productos}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProductosListContainer;","import {useState} from \"react\";\r\n\r\nconst ItemCount = (props) => {\r\n    const [contador, setContador] = useState(props.initial)\r\n    \r\n    return (\r\n        <div>\r\n            <div className=\"Item-count\">\r\n                <button className=\"btn btn-dark\" onClick={()=>{if (contador>0) {setContador(contador - 1)}}}> - </button>\r\n                <p> Contador: {contador} </p>\r\n                <button className=\"btn btn-dark\" onClick={()=>{if (contador<props.stock) {setContador(contador + 1)}}}> + </button>\r\n            </div>\r\n            <button className=\"btn btn-dark\" onClick={()=>{if (contador<=props.stock) {props.onAdd(contador)}}}> Agregar al carrito </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemCount;","import ItemCount from \"./ItemCount.js\"\r\nimport { useContext, useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { CartContext } from \"./CartContext.js\";\r\n\r\n\r\nconst ItemDetail = (props) => {\r\n    const {title, description, image, price, stock} = props.item\r\n\r\n    const {addItem} = useContext(CartContext)\r\n    \r\n    const onAdd = (quantity) => {\r\n        addItem(props.item, quantity)\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\" style={{width: \"20%\", backgroundColor: \"gray\"}}>\r\n            <img src={`https://raw.githubusercontent.com/sacristan-santiago/shiva_ecommerce/gh-pages${image}`} className=\"card-img-top\" alt=\"...\"/>\r\n            <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{title}</h5>\r\n                <p style={{height: \"10vh\", overflow: \"hidden\" }} className=\"card-text\">{description}</p>\r\n                <p className=\"card-text\">Precio: ${price}/unidad</p>\r\n                <ItemCount stock={stock} initial ={1} onAdd={onAdd}/>\r\n            </div>\r\n            <button className=\"btn btn-dark\"><NavLink className=\"nav-link-detail-button\" to=\"/\">Volver</NavLink></button>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default ItemDetail;","import { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport ItemDetail from './ItemDetail.js';\r\nimport { app } from '../firebase';\r\nimport { getDoc, doc } from '@firebase/firestore';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\nconst ItemDetailCointainer = () => {\r\n    const [item, setItem] = useState ({})\r\n    const {id} = useParams();\r\n    console.log(id)\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            try {\r\n                const db = getFirestore(app);\r\n                const docRef = doc(db, \"items\", id)\r\n                const docSnap = await getDoc(docRef)\r\n        \r\n                if (!docSnap.exists()) {\r\n                    console.log(\"Collection does not exist\");\r\n                } else  {\r\n                    console.log(\"Collection found\");\r\n                    const renderItem = docSnap.data();\r\n                    renderItem.id = docSnap.id\r\n                    setItem(renderItem)\r\n                    console.log(item)\r\n                }\r\n            } catch (err) {\r\n                console.log(\"Error serching items\", err)\r\n            }\r\n        }\r\n        fetchData();\r\n\r\n    }, [])\r\n\r\n    if (!item.id) {\r\n        return (\r\n            <>Cargando...</>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"Items-gallery\">\r\n                <ItemDetail item={item}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ItemDetailCointainer;","import { NavLink } from \"react-router-dom\";\r\n\r\nconst Category = (props) => {\r\n    const {description, image, category} = props.category\r\n    const route = `/categoria/${category}`\r\n\r\n    return (\r\n    <div key={category} className=\"card\" style={{width: \"20%\", backgroundColor: \"gray\"}}>\r\n        <img src={`https://raw.githubusercontent.com/sacristan-santiago/shiva_ecommerce/gh-pages${image}`} className=\"card-img-top\" alt=\"...\"/>\r\n        <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{category.toUpperCase()}</h5>\r\n            {/* <p style={{height: \"15vh\", overflow: \"hidden\" }} className=\"card-text\">{description}</p> */}\r\n        </div>\r\n        <NavLink className=\"nav-link\" to={route}><button type=\"button\" className=\"btn btn-dark\">Ver productos</button></NavLink>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Category;","import Category from \"./Category\"\r\n\r\nconst CategoriesList = (props) => {\r\n    const productos = props.productos;\r\n    const categories = []\r\n    for (let i=0; i<productos.length; i++) {\r\n        if (!categories.some(x=> x.category == productos[i].category)) {\r\n            categories.push(productos[i])\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            {categories.map(x => {\r\n                return <Category key={x.category} category={x}/>\r\n            })}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CategoriesList;","import { useEffect, useState } from 'react';\r\nimport CategoriesList from './CategoriesList';\r\nimport { app } from '../firebase';\r\nimport { getDocs, collection, getFirestore } from '@firebase/firestore';\r\n\r\nconst CategoriesListContainer = () => {\r\n    const [productos, setProductos] = useState ([])\r\n\r\n    useEffect(()=>{\r\n        async function fetchData() {\r\n            try {\r\n                const db = getFirestore(app);\r\n                const itemsCollection = collection(db, \"items\")\r\n                const itemsSnapshot = await getDocs(itemsCollection);\r\n                const itemsList = itemsSnapshot.docs.map(doc => doc.data());\r\n        \r\n                if (!collection.size === 0) {\r\n                    console.log(\"Collection does not exist\");\r\n                    return;\r\n                }\r\n                console.log(\"Collection found\");\r\n                setProductos(itemsList)\r\n                \r\n            } catch (err) {\r\n                console.log(\"Error serching items\", err)\r\n            }\r\n        }\r\n        fetchData();\r\n    }, [])\r\n\r\n    if (productos.length<=0) {\r\n        return (\r\n            <>Cargando...</>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"Productos-list container\">\r\n                <CategoriesList productos={productos}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CategoriesListContainer;","const CartConfirmation = (props) => {\r\n    \r\n    return (\r\n    <div>\r\n        <h3>Tu orden fue confirmada! El numero de orden es: {props.orderId}</h3>\r\n        \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default CartConfirmation;","import { useContext, useState } from 'react';\r\nimport { CartContext } from './CartContext';\r\nimport { NavLink } from 'react-router-dom';\r\nimport CartConfirmation from './CartConfirmation';\r\nimport { app } from '../firebase';\r\nimport { getFirestore, collection, addDoc, Timestamp} from 'firebase/firestore';\r\n\r\n\r\nconst Cart = () => {\r\n    const {cart, removeItem} = useContext(CartContext)\r\n    const [name, setName] = useState (\"\");\r\n    const [surename, setSurename] = useState (\"\");\r\n    const [email, setEmail] = useState (\"\");\r\n    const [phone, setPhone] = useState (0);\r\n    const [orderId, setOrderId] = useState(null)\r\n\r\n    let precioTotal = 0 \r\n    cart.forEach(item => {\r\n          precioTotal += item.price*item.quantity\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        const name = e.target.name\r\n\r\n        switch (name) {\r\n            case \"name\":\r\n                setName(e.target.value)\r\n                break;\r\n            case \"surename\":\r\n                setSurename(e.target.value)\r\n                break;\r\n            case \"email\":\r\n                setEmail(e.target.value)\r\n                break;\r\n            case \"phone\":\r\n                setPhone(e.target.value)\r\n                break;\r\n            default:\r\n                console.log(\"error de input\")\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const db = getFirestore(app);\r\n            const docRef = await addDoc(collection(db, \"orders\"), {\r\n                buyer: {\r\n                    name: name,\r\n                    surename: surename,\r\n                    phone: phone,\r\n                    email: email\r\n                },\r\n                items: cart,\r\n                date: Timestamp.now(),\r\n                total: precioTotal\r\n              });\r\n            console.log(\"Document written with ID: \", docRef.id);\r\n            setOrderId(docRef.id)\r\n\r\n        } catch (err) {\r\n            console.log(\"Error emitting order\", err)\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div>\r\n                <h1>Carrito</h1>\r\n                {(cart.length === 0) ?\r\n                <>\r\n                    <p>No hay productos en el carrito</p>\r\n                    <NavLink className=\"nav-link\" to=\"/\"><button type=\"button\" className=\"btn btn-dark\">Ver Productos</button></NavLink>\r\n                \r\n                </> : cart.map(item =>{\r\n                            return (\r\n                            <div>\r\n                            <table className=\"table table-hover cart-table\">\r\n                            <thead>\r\n                                <tr>\r\n                                <th scope=\"col\">Producto</th>\r\n                                <th scope=\"col\">Descripcion</th>\r\n                                <th scope=\"col\">Count</th>\r\n                                <th scope=\"col\">Price</th>\r\n                                <th scope=\"col\">Delete</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                <td>{item.title}</td>\r\n                                <td>{item.description}</td>\r\n                                <td>{item.quantity}</td>\r\n                                <td>{item.price}</td>\r\n                                <td><button onClick={()=>{removeItem(item.id)}}><span className=\"material-icons\">delete</span></button></td>\r\n                                </tr>\r\n                            </tbody>\r\n                            </table>\r\n                            </div>\r\n                            )})\r\n                }\r\n                <h4>Precio total: {precioTotal}</h4>\r\n            </div>\r\n        \r\n            <div className=\"comprar\">\r\n                <h2>Comprar</h2>\r\n                <p>Completa los siguientes datos y confirma tu compra   !</p>\r\n                <form className=\"cart-form\" onSubmit={handleSubmit}>\r\n                    <label name=\"name\" >Nombre:</label>\r\n                    <input type=\"text\" name=\"name\" id=\"name\" onChange={handleChange} required></input>\r\n                    <label name=\"apellido\" >Apellido:</label>\r\n                    <input type=\"text\" name=\"surename\" id=\"surename\" onChange={handleChange} required></input>\r\n                    <label name=\"email\" >Email:</label>\r\n                    <input type=\"email\" name=\"email\" id=\"email\" onChange={handleChange} required></input>\r\n                    <label name=\"phone\" >Tel√©fono:</label>\r\n                    <input type=\"number\" name=\"phone\" id=\"phone\" onChange={handleChange}  required></input>\r\n                    <input type=\"submit\" className=\"btn btn-dark\" value=\"Confirmar Orden\"></input>\r\n                </form>\r\n                {(orderId) ? <CartConfirmation orderId={orderId}/> : \"\" }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart;","import './App.css';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Nav from './components/NavBar';\nimport ProductosListContainer from './components/ProductListContainer';\nimport ItemDetailCointainer from './components/ItemDetailContainer';\nimport CategoriesListContainer from \"./components/CategoriesListContainer\"\nimport CartProvider from './components/CartContext';\nimport Cart from './components/Cart';\n\nfunction App() {\n  return (\n    <CartProvider>\n    <BrowserRouter >\n      <div className=\"App\">\n        <Nav />\n        <Switch>\n          <Route exact path=\"/\">\n            <CategoriesListContainer />\n          </Route>\n\n          <Route path=\"/categoria/:categoryId\">\n            <ProductosListContainer />\n          </Route>\n\n          <Route path=\"/item/:id\">\n            <ItemDetailCointainer />   \n          </Route>\n\n          <Route path=\"/cart\">\n            <Cart />\n          </Route>\n          \n        </Switch>              \n      </div>\n    </BrowserRouter>\n    </CartProvider> \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}